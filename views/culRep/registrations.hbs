<h2 class="mb-4">Your Registered Events</h2>

{{#if registrations.length}}
<table class="table table-striped table-bordered">
    <thead class="table-dark">
        <tr>
            <th scope="col">#</th>
            <th scope="col">Event Name</th>
            <th scope="col">Date</th>
            <th scope="col">Type</th>
            <th scope="col">Participants</th>
            <th scope="col">Phone Number</th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        {{#each registrations}}
        <tr>
            <th scope="row">{{inc @index}}</th>
            <td>{{this.eventDetails.eventName}}</td>
            <td>{{this.eventDetails.eventDate}}</td>
            <td class="text-capitalize">{{this.type}}</td>
            <td>
                {{#if (eq this.type "individual")}}
                {{this.participant.name}} ({{this.participant.regNum}})
                {{else}}
                <strong>{{this.teamName}}</strong><br>
                {{#each teamMembers}}
                {{this.name}} ({{this.regNum}}) <br>
                {{/each}}
                {{/if}}
            </td>
            <td>
                {{#if (eq this.type "individual")}}
                {{this.participant.phone}}
                {{else}}
                {{this.contact.teamPhone}} / {{this.contact.altPhone}}
                {{/if}}
            </td>
            <td><a href="/culRep/edit-registration/{{this._id}}" class="btn btn-primary buttons">Edit</a>
                <a href="/culRep/delete-registration/{{this._id}}" class="btn btn-danger buttons"
                    onclick="return confirm('Do you want to delete {{this.eventDetails.eventName}} registration? ')">Delete</a>
            </td>
        </tr>
        {{/each}}
    </tbody>
</table>
{{else}}
<p class="text-muted">No events registered yet.</p>
{{/if}}