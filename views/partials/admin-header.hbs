{{!-- adminNavbar.hbs --}}
<header class="fixed top-0 left-0 right-0 z-50 bg-coffee text-beige shadow-md py-2 px-6">
    <div class="container mx-auto flex justify-between items-center">
        <!-- Logo -->
        <a class="text-2xl font-bold font-handwritten" href="/admin" id="logo">Tejas Admin {{#if adminUser}}:
            {{adminUser.Name}}{{/if}}</a>

        <!-- Mobile Menu Toggle Button -->
        <button class="md:hidden" id="menu-toggle">
            <div class="w-6 h-0.5 bg-beige mb-1.5"></div>
            <div class="w-6 h-0.5 bg-beige mb-1.5"></div>
            <div class="w-6 h-0.5 bg-beige"></div>
        </button>

        <!-- Navbar Items -->
        <div class="hidden md:flex items-center gap-8" id="navbarNav">
            {{#if adminUser}}
            <div class="relative">
                <button id="dropdown-btn" class="px-3 py-2 font-semibold font-handwritten">
                    {{adminUser.Name}}
                </button>
                <div id="dropdown-menu"
                    class="absolute right-0 mt-2 w-48 bg-beige text-bistre shadow-lg rounded-lg opacity-0 invisible transition-all duration-300">
                    <a class="block px-4 py-2 hover:bg-khaki" href="/admin/admin-signup">Add New Admin</a>
                    <a class="block px-4 py-2 hover:bg-khaki" href="/admin/cultural-rep-signup">Add New Cultural Rep</a>
                    <a class="block px-4 py-2 hover:bg-khaki" href="/admin/event-head-signup">Add New Event Head</a>
                    <hr class="my-1 border-bistre">
                    <a class="block px-4 py-2 text-red-600 hover:bg-khaki" href="/admin/admin-log-out">Logout</a>
                </div>
            </div>
            {{/if}}
        </div>
    </div>
</header>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const dropdownBtn = document.getElementById("dropdown-btn");
        const dropdownMenu = document.getElementById("dropdown-menu");

        dropdownBtn.addEventListener("click", function (event) {
            event.stopPropagation();
            dropdownMenu.classList.toggle("opacity-0");
            dropdownMenu.classList.toggle("invisible");
        });

        // Close dropdown when clicking outside
        document.addEventListener("click", function (event) {
            if (!dropdownBtn.contains(event.target) && !dropdownMenu.contains(event.target)) {
                dropdownMenu.classList.add("opacity-0", "invisible");
            }
        });
    });
</script>