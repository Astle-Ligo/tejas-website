{{!-- eventRegistrations.hbs --}}
<section class="py-20 px-6 bg-beige text-bistre min-h-screen">
    <div class="container mx-auto max-w-5xl bg-white p-8 shadow-lg rounded-lg">
        <h2 class="text-3xl font-bold text-coffee text-center mb-6">Event Registrations for {{eventDetails.eventName}}
        </h2>
        <h3 class="text-xl text-center text-bistre mb-4">{{eventDetails.eventDate}}</h3>

        {{#if registrations.length}}
        <div class="overflow-x-auto">
            <table class="w-full border border-khaki text-left">
                <thead class="bg-coffee text-beige">
                    <tr>
                        <th class="p-3 border-b">#</th>
                        <th class="p-3 border-b">Participant Type</th>
                        <th class="p-3 border-b">Participants</th>
                        <th class="p-3 border-b">Class</th>
                        <th class="p-3 border-b">Phone Number</th>
                        <th class="p-3 border-b">Registration Time</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each registrations}}
                    <tr class="border-b">
                        <td class="p-3">{{inc @index}}</td>
                        <td class="p-3 text-capitalize">{{type}}</td>
                        <td class="p-3">
                            {{#if (eq type "individual")}}
                            {{participant.name}} ({{participant.regNum}})
                            {{else}}
                            <strong>Team Name: {{teamName}}</strong><br>
                            {{#each teamMembers}}
                            {{this.name}} ({{this.regNum}}) <br>
                            {{/each}}
                            {{/if}}
                        </td>
                        <td class="p-3">{{classId}}</td>
                        <td class="p-3">
                            {{#if (eq type "individual")}}
                            {{participant.phone}}
                            {{else}}
                            {{contact.teamPhone}} / {{contact.altPhone}}
                            {{/if}}
                        </td>
                        <td class="p-3">{{this.timestamp}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
        {{else}}
        <p class="text-muted text-center">No registrations yet.</p>
        {{/if}}
    </div>
</section>